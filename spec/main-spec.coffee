xml = '<?xml version="1.0" encoding="UTF-8"?>
   <ResultList createTime="2014-05-10T11:50:03+02:00" creator="OLA 5.1.8-1" iofVersion="3.0" status="Snapshot" xmlns="http://www.orienteering.org/datastandard/3.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <Event>
     <Id>8828</Id>
     <Name>Nattugglan Flemingsberg</Name>
     <StartTime>
      <Date>2014-02-19</Date>
     </StartTime>
     <EndTime>
      <Date>2014-02-19</Date>
     </EndTime>
    </Event>
    <ClassResult>
     <Class>
      <Id>9992</Id>
      <Name>Korta</Name>
     </Class>
     <PersonResult>
      <Person>
       <Id>15789</Id>
       <Name>
        <Family>Berggren</Family>
        <Given>Amanda</Given>
       </Name>
      </Person>
      <Organisation>
       <Id>410</Id>
       <Name>Tullinge Sportklubb</Name>
       <ShortName>Tullinge SK</ShortName>
       <Country code="SWE"></Country>
      </Organisation>
      <Result raceNumber="1">
       <StartTime>2014-02-19T18:24:00+01:00</StartTime>
       <FinishTime>2014-02-19T19:15:40+01:00</FinishTime>
       <Time>3100.0</Time>
       <Position>1</Position>
       <Status>OK</Status>
       <Course>
        <Id>10</Id>
        <Name>KortaB</Name>
        <Length>4430</Length>
       </Course>
       <SplitTime>
        <ControlCode>45</ControlCode>
        <Time>254.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>44</ControlCode>
        <Time>632.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>40</ControlCode>
        <Time>1182.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>46</ControlCode>
        <Time>1313.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>47</ControlCode>
        <Time>1408.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>40</ControlCode>
        <Time>1520.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>43</ControlCode>
        <Time>1668.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>47</ControlCode>
        <Time>1793.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>48</ControlCode>
        <Time>2280.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>49</ControlCode>
        <Time>2491.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>39</ControlCode>
        <Time>2608.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>31</ControlCode>
        <Time>2911.0</Time>
       </SplitTime>
      </Result>
     </PersonResult>
   <PersonResult>
    <EntryId>2074756</EntryId>
    <Person>
     <Id>71000</Id>
     <Name>
      <Family>Ag√©n</Family>
      <Given>Lennart</Given>
     </Name>
    </Person>
    <Organisation>
     <Id>410</Id>
     <Name>Tullinge Sportklubb</Name>
     <ShortName>Tullinge SK</ShortName>
     <Country code="SWE"></Country>
    </Organisation>
    <Result raceNumber="1">
     <StartTime>2014-02-19T18:24:00+01:00</StartTime>
     <FinishTime>2014-02-19T19:24:05+01:00</FinishTime>
     <Status>MissingPunch</Status>
     <Course>
      <Id>10</Id>
      <Name>KortaB</Name>
      <Length>4430</Length>
     </Course>
     <SplitTime>
      <ControlCode>45</ControlCode>
      <Time>260.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>44</ControlCode>
      <Time>694.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>40</ControlCode>
      <Time>1113.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>46</ControlCode>
      <Time>1243.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>47</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>40</ControlCode>
      <Time>1430.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>43</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>47</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>48</ControlCode>
      <Time>2506.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>49</ControlCode>
      <Time>2826.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>39</ControlCode>
      <Time>2940.0</Time>
     </SplitTime>
     <SplitTime>
      <ControlCode>31</ControlCode>
      <Time>3362.0</Time>
     </SplitTime>
    </Result>
   </PersonResult>
   <PersonResult>
    <EntryId>2077472</EntryId>
    <Person>
     <Id>7894</Id>
     <Name>
      <Family>Karlsson</Family>
      <Given>Mats</Given>
     </Name>
    </Person>
    <Organisation>
     <Id>410</Id>
     <Name>Tullinge Sportklubb</Name>
     <ShortName>Tullinge SK</ShortName>
     <Country code="SWE"></Country>
    </Organisation>
    <Result raceNumber="1">
     <StartTime>2014-02-19T18:24:00+01:00</StartTime>
     <Status>DidNotStart</Status>
     <Course>
      <Id>9</Id>
      <Name>KortaA</Name>
      <Length>4430</Length>
     </Course>
     <SplitTime>
      <ControlCode>45</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>44</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>40</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>43</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>47</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>40</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>46</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>47</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>48</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>49</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>39</ControlCode>
     </SplitTime>
     <SplitTime>
      <ControlCode>31</ControlCode>
     </SplitTime>
    </Result>
   </PersonResult>
   </ClassResult>
    <ClassResult>
     <Class>
      <Id>9991</Id>
      <Name>Mellan</Name>
     </Class>
     <PersonResult>
      <EntryId>2076601</EntryId>
      <Person>
       <Id>6108</Id>
       <Name>
        <Family>Karlsson</Family>
        <Given>Olle</Given>
       </Name>
      </Person>
      <Organisation>
       <Id>410</Id>
       <Name>Tullinge Sportklubb</Name>
       <ShortName>Tullinge SK</ShortName>
       <Country code="SWE"></Country>
      </Organisation>
      <Result raceNumber="1">
       <StartTime>2014-02-19T18:22:00+01:00</StartTime>
       <FinishTime>2014-02-19T19:29:46+01:00</FinishTime>
       <Time>4026.0</Time>
       <Position>1</Position>
       <Status>OK</Status>
       <Course>
        <Id>8</Id>
        <Name>MellanD</Name>
        <Length>7030</Length>
       </Course>
       <SplitTime>
        <ControlCode>31</ControlCode>
        <Time>158.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>32</ControlCode>
        <Time>1048.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>50</ControlCode>
        <Time>1129.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>35</ControlCode>
        <Time>1426.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>36</ControlCode>
        <Time>1551.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>37</ControlCode>
        <Time>1752.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>38</ControlCode>
        <Time>1839.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>35</ControlCode>
        <Time>1947.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>37</ControlCode>
        <Time>2122.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>39</ControlCode>
        <Time>2691.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>47</ControlCode>
        <Time>3070.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>40</ControlCode>
        <Time>3165.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>44</ControlCode>
        <Time>3555.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>45</ControlCode>
        <Time>3883.0</Time>
       </SplitTime>
      </Result>
     </PersonResult>
     <PersonResult>
      <EntryId>2073798</EntryId>
      <Person>
       <Id>17219</Id>
       <Name>
        <Family>Sundqvist</Family>
        <Given>Hans</Given>
       </Name>
      </Person>
      <Organisation>
       <Id>410</Id>
       <Name>Tullinge Sportklubb</Name>
       <ShortName>Tullinge SK</ShortName>
       <Country code="SWE"></Country>
      </Organisation>
      <Result raceNumber="1">
       <StartTime>2014-02-19T18:22:00+01:00</StartTime>
       <FinishTime>2014-02-19T19:42:58+01:00</FinishTime>
       <Time>4858.0</Time>
       <TimeBehind>792.0</TimeBehind>
       <Position>8</Position>
       <Status>OK</Status>
       <Course>
        <Id>8</Id>
        <Name>MellanD</Name>
        <Length>7030</Length>
       </Course>
       <SplitTime>
        <ControlCode>31</ControlCode>
        <Time>177.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>32</ControlCode>
        <Time>1260.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>50</ControlCode>
        <Time>1336.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>35</ControlCode>
        <Time>1630.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>36</ControlCode>
        <Time>1738.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>37</ControlCode>
        <Time>1940.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>38</ControlCode>
        <Time>2037.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>35</ControlCode>
        <Time>2185.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>37</ControlCode>
        <Time>2414.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>39</ControlCode>
        <Time>3007.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>47</ControlCode>
        <Time>3598.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>40</ControlCode>
        <Time>3699.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>44</ControlCode>
        <Time>4197.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>45</ControlCode>
        <Time>4656.0</Time>
       </SplitTime>
      </Result>
     </PersonResult>
    </ClassResult>
    <ClassResult>
     <Class>
      <Id>9990</Id>
      <Name>L√•nga</Name>
     </Class>
     <PersonResult>
      <Person>
       <Id>109861</Id>
       <Name>
        <Family>Dent</Family>
        <Given>Julian</Given>
       </Name>
      </Person>
      <Organisation>
       <Id>546</Id>
       <Name>IFK Liding√∂s Skid o Orienteringsklubb</Name>
       <ShortName>IFK Liding√∂ SOK</ShortName>
       <Country code="SWE"></Country>
      </Organisation>
      <Result raceNumber="1">
       <StartTime>2014-02-19T18:20:00+01:00</StartTime>
       <FinishTime>2014-02-19T19:35:17+01:00</FinishTime>
       <Time>4517.0</Time>
       <Position>1</Position>
       <Status>OK</Status>
       <Course>
        <Id>3</Id>
        <Name>L√•ngaC</Name>
        <Length>10030</Length>
       </Course>
       <SplitTime>
        <ControlCode>31</ControlCode>
        <Time>147.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>32</ControlCode>
        <Time>794.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>33</ControlCode>
        <Time>1162.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>34</ControlCode>
        <Time>1392.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>35</ControlCode>
        <Time>1674.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>38</ControlCode>
        <Time>1827.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>37</ControlCode>
        <Time>1880.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>36</ControlCode>
        <Time>2009.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>35</ControlCode>
        <Time>2087.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>37</ControlCode>
        <Time>2232.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>39</ControlCode>
        <Time>2686.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>43</ControlCode>
        <Time>3013.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>41</ControlCode>
        <Time>3342.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>42</ControlCode>
        <Time>3487.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>40</ControlCode>
        <Time>3796.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>44</ControlCode>
        <Time>4113.0</Time>
       </SplitTime>
       <SplitTime>
        <ControlCode>45</ControlCode>
        <Time>4379.0</Time>
       </SplitTime>
      </Result>
     </PersonResult>
    </ClassResult>
   </ResultList>'

describe ".getResult", ->
  When ->
    @result = getResult xml

  describe "name", ->
    Then ->
      expect(@result.Korta[0].name).toEqual 'Amanda Berggren'
      expect(@result.Korta[1].name).toEqual 'Lennart Ag√©n'
      expect(@result.Korta[2].name).toEqual 'Mats Karlsson'
      expect(@result.Mellan[0].name).toEqual 'Olle Karlsson'
      expect(@result.Mellan[1].name).toEqual 'Hans Sundqvist'
      expect(@result['L√•nga'][0].name).toEqual 'Julian Dent'

  describe "position", ->
    Then ->
      expect(@result.Korta[0].position).toEqual '1'
      expect(@result.Mellan[0].position).toEqual '1'
      expect(@result.Mellan[1].position).toEqual '8'
      expect(@result['L√•nga'][0].position).toEqual '1'

  describe "time", ->
    describe "ok", ->
      Then ->
        expect(@result.Korta[0].time).toEqual '51:40'
        expect(@result.Mellan[0].time).toEqual '67:06'
    describe "status", ->
      Then ->
        expect(@result.Korta[1].time).toEqual 'felst.'
        expect(@result.Korta[2].time).toEqual 'dns'

  describe "splits", ->
    Then ->
      expect(@result.Korta[0].splits).toContain '4:14'
